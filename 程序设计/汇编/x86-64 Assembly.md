# x86_64 Assembly



## 常用指令集

### mov

`mov` 指令用于将数据从一个位置复制到另一个位置，但不会影响标志位。

它不执行任何算术或逻辑运算，只是简单地移动数据。它的语法形式如下：

- `mov reg, imm`：将立即数（常量）复制到寄存器。
- `mov reg, reg`：将一个寄存器的内容复制到另一个寄存器。
- `mov reg, mem`：将内存中的数据复制到寄存器。
- `mov mem, reg`：将寄存器中的数据复制到内存。



### lea

`lea` 指令（Load Effective Address）用于计算内存地址并将其存储在一个寄存器中。这个指令通常用于处理指针或数组索引等需要计算地址的情况。`lea` 不会访问内存，它只计算地址值。

```
lea eax, [ebx + ecx*4] ; 计算ebx加上ecx乘以4的结果，并将结果存储在eax中
```



### call

`call` 指令用于调用子程序（函数）。当遇到`call`指令时，处理器会保存当前的指令指针（IP），然后跳转到指定的目标地址开始执行。

```
call function         ; 调用名为function的子程序
```

相当于：

```
push ip
jmp function
```



### ret

`ret` 指令用于从子程序返回。当执行到`ret`指令时，处理器会恢复之前保存的指令指针（IP），从而让程序控制流返回到调用该子程序的地方继续执行。

```
ret                  ; 返回到调用者
```

相当于：

```
pop ip
```

`ret` 指令的工作原理是直接从栈中弹出返回地址并将指令指针设置为该地址，而不需要显式的 `jmp` 操作。
